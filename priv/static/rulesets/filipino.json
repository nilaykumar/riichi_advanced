{
  "default_mods": [],
  "available_mods": [
  ],
  "tutorial_link": "https://github.com/EpicOrange/riichi_advanced/blob/main/documentation/filipino.md",

  // TODO double check that these tiles are correct
  "wall": [
    // manzu
    "1m", "1m", "1m", "1m",
    "2m", "2m", "2m", "2m",
    "3m", "3m", "3m", "3m",
    "4m", "4m", "4m", "4m",
    "5m", "5m", "5m", "5m",
    "6m", "6m", "6m", "6m",
    "7m", "7m", "7m", "7m",
    "8m", "8m", "8m", "8m",
    "9m", "9m", "9m", "9m",
    // pinzu
    "1p", "1p", "1p", "1p",
    "2p", "2p", "2p", "2p",
    "3p", "3p", "3p", "3p",
    "4p", "4p", "4p", "4p",
    "5p", "5p", "5p", "5p",
    "6p", "6p", "6p", "6p",
    "7p", "7p", "7p", "7p",
    "8p", "8p", "8p", "8p",
    "9p", "9p", "9p", "9p",
    // souzu
    "1s", "1s", "1s", "1s",
    "2s", "2s", "2s", "2s",
    "3s", "3s", "3s", "3s",
    "4s", "4s", "4s", "4s",
    "5s", "5s", "5s", "5s",
    "6s", "6s", "6s", "6s",
    "7s", "7s", "7s", "7s",
    "8s", "8s", "8s", "8s",
    "9s", "9s", "9s", "9s",
    // east
    "1z", "1z", "1z", "1z",
    // south
    "2z", "2z", "2z", "2z",
    // west
    "3z", "3z", "3z", "3z",
    // north
    "4z", "4z", "4z", "4z",
    "0z", "0z", "0z", "0z",
    "6z", "6z", "6z", "6z",
    "7z", "7z", "7z", "7z",
    "1f", "2f", "3f", "4f",
    "1g", "2g", "3g", "4g"
  ],

  // TODO: remove unnecessary definitions
  "set_definitions": {
    "pair": [0, 0],
    "shuntsu": [0, 1, 2],
    "koutsu": [0, 0, 0],
    "quad": [0, 0, 0, 0],
    "ryanmen/penchan": [0, 1],
    "kanchan": [0, 2],
    // do we want to define pure straight?
  },

  "win_definition": [
    [ "exhaustive", [["pair"], 1], [["shuntsu", "koutsu"], 5] ],
    [ [["quad"], -1], [["pair"], 7], ["koutsu", 1]],
  ],

  "yaku": [
    // Flowers
    {
      "display_name": "No Flowers",
      "value": 1,
      "when": [] // removed by yaku_precedence if any of the below flowers match
    },
    {
      "display_name": "Seat Flower",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["flowers"], [[[["1f"], 1]]]]}]
    },
    {
      "display_name": "Seat Flower",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["flowers"], [[[["2f"], 1]]]]}]
    },
    {
      "display_name": "Seat Flower",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["flowers"], [[[["3f"], 1]]]]}]
    },
    {
      "display_name": "Seat Flower",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["flowers"], [[[["4f"], 1]]]]}]
    },
    {
      "display_name": "Seat Season",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["flowers"], [[[["1g"], 1]]]]}]
    },
    {
      "display_name": "Seat Season",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["flowers"], [[[["2g"], 1]]]]}]
    },
    {
      "display_name": "Seat Season",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["flowers"], [[[["3g"], 1]]]]}]
    },
    {
      "display_name": "Seat Season",
      "value": 1,
      "when": [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["flowers"], [[[["4g"], 1]]]]}]
    },
    {
      "display_name": "All Flowers",
      "value": 2,
      "when": [{"name": "match", "opts": [["flowers"], ["all_flowers"]]}]
    },
    {
      "display_name": "All Seasons",
      "value": 2,
      "when": [{"name": "match", "opts": [["flowers"], ["all_seasons"]]}]
    },
    {
      "display_name": "Seven Flowers",
      "value": 3,
      "when": [{"name": "match", "opts": [["hand", "flowers"], ["7_flowers"]]}]
    },
    {
      "display_name": "Eight Flowers",
      "value": 8,
      "when": [{"name": "match", "opts": [["hand", "flowers"], ["8_flowers"]]}]
    },
    // Winning methods
    {
      "display_name": "Self Draw",
      "value": 1,
      "when": ["won_by_draw"]
    },
    {
      "display_name": "Concealed Hand",
      "value": 1,
      "when": [{"name": "has_no_call_named", "opts": ["chii", "pon", "daiminkan", "kakan"]}]
    },
    {
      "display_name": "Final Tile",
      "value": 1,
      "when": ["no_tiles_remaining"]
    },
    {
      "display_name": "After a Kong",
      "value": 1,
      "when": [{"name": "status", "opts": ["kan"]}]
    },
    {
      "display_name": "After Multiple Kongs",
      "value": 8,
      "when": [{"name": "status", "opts": ["double_kan"]}]
    },
    {
      "display_name": "Robbing a Kong",
      "value": 1,
      "when": ["won_by_call"]
    },
    // Suit-based hands
    {
      "display_name": "Half Flush",
      "value": 3,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p","1z","2z","3z","4z","0z","6z","7z"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s","1z","2z","3z","4z","0z","6z","7z"]}
      ]]
    },
    {
      "display_name": "Full Flush",
      "value": 7,
      "when": [[
        {"name": "winning_hand_consists_of", "opts": ["1m","2m","3m","4m","5m","6m","7m","8m","9m"]},
        {"name": "winning_hand_consists_of", "opts": ["1p","2p","3p","4p","5p","6p","7p","8p","9p"]},
        {"name": "winning_hand_consists_of", "opts": ["1s","2s","3s","4s","5s","6s","7s","8s","9s"]}
      ]]
    },
    // Honor tiles
    {
      "display_name": "Baak Baan",
      "value": 1,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["haku"], 1]]]]}]
    },
    {
      "display_name": "Faat Coi",
      "value": 1,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["hatsu"], 1]]]]}]
    },
    {
      "display_name": "Hung Zung",
      "value": 1,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["chun"], 1]]]]}]
    },
    {
      "display_name": "Round Wind",
      "value": 1,
      "when": [[
        [{"name": "round_wind_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "round_wind_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei"], 1]]]]}]
      ]]
    },
    {
      "display_name": "Seat Wind",
      "value": 1,
      "when": [[
        [{"name": "seat_is", "opts": ["east"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["ton"], 1]]]]}],
        [{"name": "seat_is", "opts": ["south"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["nan"], 1]]]]}],
        [{"name": "seat_is", "opts": ["west"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["shaa"], 1]]]]}],
        [{"name": "seat_is", "opts": ["north"]}, {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pei"], 1]]]]}]
      ]]
    },
    {
      "display_name": "Small Three Dragons",
      "value": 5,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["little_three_dragons"]]}]
    },
    {
      "display_name": "Big Three Dragons",
      "value": 8,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["big_three_dragons"]]}]
    },
    {
      "display_name": "Small Four Winds",
      "value": 6,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["little_four_winds"]]}]
    },
    {
      "display_name": "Big Four Winds",
      "value": 13,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], ["big_four_winds"]]}]
    },
    {
      "display_name": "All Honours",
      "value": 10,
      "when": [{"name": "winning_hand_consists_of", "opts": ["1z","2z","3z","4z","0z","6z","7z"]}]
    },
    // Triplet hands
    {
      "display_name": "All Triplets",
      "value": 3,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["koutsu"], 4], [["pair"], 1]]]]}]
    },
    {
      "display_name": "Four Concealed Triplets",
      "value": 8,
      "when": [[
        // 0 open triplets, hand must be 4 triplets and a pair
        {"name": "match", "opts": [["hand", "calls"], [[[["pon", "daiminkan", "kakan"], -1], [["koutsu"], 4], [["pair"], 1]]]]},
        [
          "won_by_draw",
          // 0 open triplet tsumo, hand must be 4 triplets and a pair
          {"name": "match", "opts": [["hand", "calls", "winning_tile"], [[[["pon", "daiminkan", "kakan"], -1], [["koutsu"], 4], [["pair"], 1]]]]}
        ]
      ]]
    },
    {
      "display_name": "Mixed Terminals",
      "value": 4,
      "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"]}]
    },
    {
      "display_name": "All Terminals",
      "value": 13,
      "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s"]}]
    },
    {
      "display_name": "Four Kongs",
      "value": 13,
      "when": [{"name": "match", "opts": [["calls"], [[[["daiminkan", "ankan", "kakan"], 4]]]]}]
    },
    // Sequence hands
    {
      "display_name": "All Sequences",
      "value": 1,
      "when": [{"name": "match", "opts": [["hand", "calls", "winning_tile"], [["exhaustive", [["shuntsu"], 4], [["pair"], 1]]]]}]
    },
    // Others
    {
      "display_name": "Thirteen Orphans",
      "value": 13,
      "when": [{"name": "winning_hand_consists_of", "opts": ["1m","9m","1p","9p","1s","9s","1z","2z","3z","4z","0z","6z","7z"]}]
    },
    {
      "display_name": "Nine Gates",
      "value": 13,
      "when": [{"name": "match", "opts": [["hand", "winning_tile"], [[[["chuurenpoutou"], 1]]]]}]
    },
    {
      "display_name": "Blessing of Heaven",
      "value": 13,
      "when": [{"name": "status", "opts": ["first_turn"]}, "won_by_draw"]
    },
    {
      "display_name": "Blessing of Earth",
      "value": 13,
      "when": [{"name": "everyone_status", "opts": ["first_turn"]}, "won_by_discard"]
    },
    {
      "display_name": "Blessing of Man",
      "value": 13,
      "when": [{"name": "status", "opts": ["first_turn"]}, "won_by_discard"]
    }
  ],
  "yaku_precedence": {
    "Seat Flower": ["No Flowers"],
    "Seat Season": ["No Flowers"],
    "All Flowers": ["Seat Flower"],
    "All Seasons": ["Seat Season"],
    "Seven Flowers": ["All Flowers", "All Seasons"],
    "Eight Flowers": ["Seven Flowers"],
    "After Multiple Kongs": ["After a Kong"],
    "Full Flush": ["Half Flush"],
    "Big Four Winds": ["Small Four Winds"],
    "Big Three Dragons": ["Small Three Dragons"],
    "Blessing of Earth": ["Blessing of Man"],
    "Four Concealed Triplets": ["All Triplets"]
  },
  "score_calculation": {
    "scoring_method": "score_table",
    "score_table": {"0": 1, "1": 2, "2": 4, "3": 8, "4": 16, "5": 24, "6": 32, "7": 48, "8": 64, "9": 96, "10": 128, "11": 192, "12": 256, "max": 384},
    "discarder_multiplier": 2,
    "non_discarder_multiplier": 0,
    "self_draw_multiplier": 1,
    "yaku_lists": ["yaku"],
    "point_name": "Fan",
    "win_by_discard_label": "Hu",
    "win_by_draw_label": "Zimo",
    "win_by_discard_name": "Hu",
    "win_by_discard_name_2": "Double Hu",
    "win_by_discard_name_3": "Triple Hu",
    "win_by_draw_name": "Zimo",
    "exhaustive_draw_name": "Draw"
  },
  "before_turn_change": {
    "actions": [
      ["unset_status", "kan", "double_kan"],
      ["when", [{"name": "status_missing", "opts": ["match_start"]}], [["unset_status", "first_turn"]]]
    ]
  },
  "after_turn_change": {
    "actions": [
      ["when", ["no_tiles_remaining"], [["pause", 1000], ["ryuukyoku"]]],
      ["when", [{"name": "status_missing", "opts": ["match_start"]}, "not_no_tiles_remaining"], [["draw"]]],
      ["when", [{"name": "everyone_status", "opts": ["no_flowers"]}], [["unset_status_all", "no_flowers", "match_start"], ["change_turn", "east"]]]
    ]
  },
  "after_call": {
    "actions": [
      ["when", [{"name": "match", "opts": [["last_call"], [[[["haku", "hatsu", "chun"], 1]]]]}, {"name": "match", "opts": [["calls"], [[[["haku"], 1], [["hatsu"], 1], [["chun"], 1]]]]}], [["set_callee_status", "pao"]]],
      ["when", [{"name": "match", "opts": [["last_call"], [[[["ton", "nan", "shaa", "pei"], 1]]]]}, {"name": "match", "opts": [["calls"], [[[["ton"], 1], [["nan"], 1], [["shaa"], 1], [["pei"], 1]]]]}], [["set_callee_status", "pao"]]]
    ]
  },
  "after_start": {
    "actions": [["set_status_all", "first_turn", "match_start"]]
  },
  "buttons": {
    "start_flower": {
      "display_name": "Reveal flower",
      "show_when": ["our_turn", {"name": "match", "opts": [["hand", "draw"], [[[["1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], 1]]]]}],
      "actions": [["big_text", "Flower"], ["flower", "1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], ["draw"]],
      "unskippable": true
    },
    "start_no_flower": {
      "display_name": "No flowers",
      "show_when": [{"name": "status", "opts": ["match_start"]}, "our_turn", {"name": "not_match", "opts": [["hand", "draw"], [[[["1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], 1]]]]}],
      "actions": [
        ["big_text", "No flowers"],
        ["set_status", "no_flowers"],
        ["push_message", "is paid 25 from all players for drawing a hand with no flowers"],
        ["when", ["shimocha_exists"], [["add_score", 25], ["add_score", -25, "shimocha"], ["big_text", "  -25  ", "shimocha"]]],
        ["when", ["toimen_exists"], [["add_score", 25], ["add_score", -25, "toimen"], ["big_text", "  -25  ", "toimen"]]],
        ["when", ["kamicha_exists"], [["add_score", 25], ["add_score", -25, "kamicha"], ["big_text", "  -25  ", "kamicha"]]]
        ["merge_draw"],
        ["advance_turn"]
      ],
      "unskippable": true
    },
    "chii": {
      "display_name": "Chow",
      "call": [[-2, -1], [-1, 1], [1, 2]],
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "kamicha_discarded", "call_available"],
      "actions": [["big_text", "Chow"], ["call"], ["change_turn", "self"]]
    },
    "pon": {
      "display_name": "Pong",
      "call": [[0, 0]],
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", "call_available"],
      "actions": [["big_text", "Pong"], ["call"], ["change_turn", "self"]],
      "precedence_over": ["chii"]
    },
    "daiminkan": {
      "display_name": "Kong",
      "call": [[0, 0, 0]],
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "not_our_turn", "not_no_tiles_remaining", "someone_else_just_discarded", "call_available"],
      "actions": [
        ["big_text", "Kong"], ["call"], ["change_turn", "self"],
        ["set_status", "kan"],
        ["push_message", "is paid 25 from all players for forming a kong"]
        ["when", ["shimocha_exists"], [["add_score", 25], ["add_score", -25, "shimocha"], ["big_text", "  -25  ", "shimocha"]]],
        ["when", ["toimen_exists"], [["add_score", 25], ["add_score", -25, "toimen"], ["big_text", "  -25  ", "toimen"]]],
        ["when", ["kamicha_exists"], [["add_score", 25], ["add_score", -25, "kamicha"], ["big_text", "  -25  ", "kamicha"]]]
        ["draw"]
      ],
      "precedence_over": ["chii", "pon"]
    },
    "ankan": {
      "display_name": "Self Kong",
      "call": [[0, 0, 0]],
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "our_turn", "not_no_tiles_remaining", "has_draw", "self_call_available", {"name": "status_missing", "opts": ["just_reached"]}],
      "actions": [
        ["big_text", "Kong"], ["self_call"],
        ["set_status", "kan"],
        ["push_message", "is paid 50 from all players for forming a conealed kong"]
        ["when", ["shimocha_exists"], [["add_score", 50], ["add_score", -50, "shimocha"], ["big_text", "  -50  ", "shimocha"]]],
        ["when", ["toimen_exists"], [["add_score", 50], ["add_score", -50, "toimen"], ["big_text", "  -50  ", "toimen"]]],
        ["when", ["kamicha_exists"], [["add_score", 50], ["add_score", -50, "kamicha"], ["big_text", "  -50  ", "kamicha"]]]
        ["draw"]
      ]
    },
    "kakan": {
      "display_name": "Kong",
      "call": [[0, 0, 0]],
      "upgrades": "pon",
      "show_when": [{"name": "status_missing", "opts": ["match_start"]}, "our_turn", "not_no_tiles_remaining", "has_draw", "can_upgrade_call", {"name": "status_missing", "opts": ["just_reached"]}],
      "actions": [
        ["big_text", "Kong"], ["upgrade_call"],
        ["set_status", "kan"],
        ["push_message", "is paid 50 from all players for forming an extended kong"]
        ["when", ["shimocha_exists"], [["add_score", 50], ["add_score", -50, "shimocha"], ["big_text", "  -50  ", "shimocha"]]],
        ["when", ["toimen_exists"], [["add_score", 50], ["add_score", -50, "toimen"], ["big_text", "  -50  ", "toimen"]]],
        ["when", ["kamicha_exists"], [["add_score", 50], ["add_score", -50, "kamicha"], ["big_text", "  -50  ", "kamicha"]]]
        ["draw"]
      ]
    },
    "ron": {
      "display_name": "Hu",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai", "kokushi_tenpai"]]},
        "someone_else_just_discarded",
        {"name": "match", "opts": [["hand", "calls", "last_discard"], ["win"]]}
      ],
      "actions": [["big_text", "Hu"], ["pause", 1000], ["reveal_hand"], ["win_by_discard"]],
      "precedence_over": ["chii", "pon", "kan", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "chankan": {
      "display_name": "Hu",
      "show_when": [
        "not_our_turn",
        {"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai", "kokushi_tenpai"]]},
        [
          [
            {"name": "last_call_is", "opts": ["kakan"]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ],
          [
            {"name": "last_call_is", "opts": ["ankan"]},
            {"name": "match", "opts": [["hand", "calls", "draw"], ["kokushi_tenpai"]]},
            {"name": "match", "opts": [["hand", "calls", "last_called_tile"], ["win"]]}
          ]
        ]
      ],
      "actions": [["big_text", "Hu"], ["pause", 1000], ["reveal_hand"], ["win_by_call"]],
      "precedence_over": ["chii", "pon", "kan", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "tsumo": {
      "display_name": "Zimo",
      "show_when": [
        "our_turn",
        {"name": "status_missing", "opts": ["match_start"]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["tenpai", "kokushi_tenpai"]]},
        {"name": "match", "opts": [["hand", "calls", "draw"], ["win"]]}
      ],
      "actions": [["big_text", "Zimo"], ["pause", 1000], ["reveal_hand"], ["win_by_draw"]],
      "precedence_over": ["chii", "pon", "kan", "riichi", "daiminkan", "ankan", "kakan"]
    },
    "flower": {
      "display_name": "Flower",
      "show_when": ["our_turn", "has_draw", {"name": "status_missing", "opts": ["match_start"]}, "not_just_discarded", {"name": "match", "opts": [["hand", "draw"], [[[["1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], 1]]]]}],
      "actions": [["big_text", "Flower"], ["flower", "1f", "2f", "3f", "4f", "1g", "2g", "3g", "4g"], ["draw"]]
    }
  },
  "auto_buttons": {
    "auto_sort": {
      "display_name": "A",
      "actions": [["sort_hand"]],
      "enabled_at_start": true
    }
  },
  "interruptible_actions": ["play_tile", "draw", "advance_turn", "call", "self_call", "upgrade_call"],
  // Each player starts with $20: $1 corresponds to 100 points
  "initial_score": 2000,
  // Unlike many other variants, Filipino mahjong starts with 16 tiles
  "starting_tiles": 16,
  "max_rounds": 16
}
